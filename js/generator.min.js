function PlaceIdeaOnPage(a,b){generatedSeed=Math.random().toString().substring(2,13),ideaPositionOnPage=document.getElementById("ideatext"),seedBox=document.getElementById("seedbox"),lockGenre=document.getElementById("lock"),genreLockedTo="",removeGenre=document.getElementById("remove"),a&&(seedBox.value=""),""==seedBox.value&&(seedBox.value=generatedSeed),genreLockedTo=lockGenre.checked?document.getElementById("genreplaceholder").innerHTML:"",removeGenre.checked?(document.getElementById("lockoption").innerHTML="<span title='There is no genre to lock.\nUncheck &ldquo;Remove Genre&rdquo; and Generate or Re-Roll to get a genre.' style='color:gray;'>Lock Genre <span class='glyphicon glyphicon-remove-circle' style='font-size:80%;'><input name='genrelock' id='lock' type='checkbox' class='hidden' /></span></span>",document.getElementById("genreplaceholder").innerHTML=""):lockGenre.checked||(document.getElementById("lockoption").innerHTML='Lock Genre <input name="genrelock" id="lock" class="clickable" type="checkbox" onclick="lockTheGenre();" />'),seedBox.value?Math.seedrandom(seedBox.value):Math.seedrandom(),$.when(typesCall,nounsCall,pluralnounsCall,conceptsCall,verbs2ndCall,verbs2ndconceptsCall,verbs3rdCall,adjsCall,locsCall,descsCall,additionsCall).done(function(){if(generatedidea="",buildIdea(genreLockedTo,removeGenre.checked),ideaPositionOnPage.innerHTML=generatedidea,setAndShowHistory(seedBox.value,genreLockedTo,removeGenre.checked),b){var a=document.getElementById("details");a.innerHTML="gt: "+gt+"<br />n1: "+n1+"<br />n2: "+n2+"<br />n3: "+n3+"<br />n4: "+n4+"<br />v1: "+v1+"<br />v2: "+v2+"<br />a1: "+a1+"<br />a2: "+a2+"<br />a3: "+a3+"<br />a4: "+a4+"<br />o1: "+o1+"<br />o2: "+o2+"<br />o3: "+o3+"<br />o4: "+o4+"<br />structure: "+sentencestructure}}).fail(function(){alert("Can't get word lists. Try again later.")})}function buildIdea(a,b){switch(trimWhitespaceFromLists(nouns,pnouns,locations,concepts),generateRandomValues(),setGenre(a,b),sentencestructure){case 0:buildSentenceO();break;case 1:buildSentence1();break;case 2:buildSentence2();break;case 3:buildSentence3();break;case 4:buildSentence4();break;case 5:buildSentence5();break;case 6:buildSentence6();break;case 7:buildSentence7();break;case 8:buildSentence8()}if(generatedidea=generatedidea.trim(),o3=Math.floor(10*Math.random()),5>o3)generatedidea+=".";else{var c=Math.floor(Math.random()*additions.length);generatedidea+=additions[c]}generatedidea+="<end />"}function trimWhitespaceFromLists(a,b,c,d){if(void 0==a)alert("No Lists Specified to trim whitespace.");else for(var e=0;e<a.length;e++)a[e]=a[e].trim();if(void 0!=b)for(var e=0;e<b.length;e++)b[e]=b[e].trim();if(void 0!=c)for(var e=0;e<c.length;e++)c[e]=c[e].trim();if(void 0!=d)for(var e=0;e<d.length;e++)d[e]=d[e].trim()}function generateRandomValues(){gt=Math.floor(Math.random()*types.length),n1=Math.floor(Math.random()*nouns.length),n2=Math.floor(Math.random()*nouns.length),c=Math.floor(Math.random()*concepts.length),l=Math.floor(Math.random()*locations.length),v1=Math.floor(Math.random()*verbs3rd.length),vc=Math.floor(Math.random()*verbs2ndconcepts.length),o1=Math.floor(5*Math.random()),0==o1&&(a1=a2=d=-1),1==o1&&(a1=Math.floor(Math.random()*adjectives.length),a2=d=-1),2==o1&&(a2=Math.floor(Math.random()*adjectives.length),d=Math.floor(Math.random()*descriptions.length),a1=-1),3==o1&&(a1=Math.floor(Math.random()*adjectives.length),a2=Math.floor(Math.random()*adjectives.length),d=Math.floor(Math.random()*descriptions.length)),4==o1&&(a2=Math.floor(Math.random()*adjectives.length),d=Math.floor(Math.random()*descriptions.length),a1=Math.floor(Math.random()*adjectives.length)),o1=Math.floor(10*Math.random()),5>o1?n3=n4=v2=a3=a4=o2=o3=-1:(n3=Math.floor(Math.random()*nouns.length),n4=Math.floor(Math.random()*nouns.length),v2=Math.floor(Math.random()*verbs3rd.length),o2=Math.floor(5*Math.random()),0==o2&&(a3=a4=-1),1==o2&&(a3=Math.floor(Math.random()*adjectives.length),a4=-1),2==o2&&(a4=Math.floor(Math.random()*adjectives.length),a3=-1),3==o2&&(a3=Math.floor(Math.random()*adjectives.length),a4=Math.floor(Math.random()*adjectives.length)),4==o2&&(a4=Math.floor(Math.random()*adjectives.length),a3=Math.floor(Math.random()*adjectives.length)),o3=Math.floor(10*Math.random())),o4=Math.floor(10*Math.random()),sentencestructure=Math.floor(9*Math.random())}function setGenre(a,b){b?generatedidea+="A ":(generatedidea+="<div id='genre'>",""==a?(generatedidea+="a"===types[gt].substr(0,1)||"e"===types[gt].substr(0,1)||"i"===types[gt].substr(0,1)||"o"===types[gt].substr(0,1)||"u"===types[gt].substr(0,1)?"An ":"A ",generatedidea+=types[gt]+" </div>"):generatedidea+=a+" </div>"),generatedidea+="game where "}function setAndShowHistory(a,b,c){$.when(typesCall,nounsCall,pluralnounsCall,conceptsCall,verbs2ndCall,verbs2ndconceptsCall,verbs3rdCall,adjsCall,locsCall,descsCall,additionsCall).done(function(){var d=[],e=getCookie("history");""!=e&&(d=e.split("<end />,"));for(var f=0;f<d.length;f++)-1==d[f].indexOf("<end />")&&(d[f]+="<end />");var g="Seed: "+htmlspecialchars(a);""!=b&&(g+=' -- (Genre Locked to "'+b.trim().replace("A ","").replace("An ","")+'")'),c&&(g+=" -- (Genre Removed)"),g+="<br />"+generatedidea.replace("<div id='genre'>",""),g=g.replace("</div>",""),d.unshift(g),d.length>6&&(d=d.slice(0,6)),setCookie("history",d,-1);for(var h=document.getElementById("history"),i="",f=1;f<d.length;f++)if(""!=d[f]){var j="history"+f;i+='<p id="'+j+'" class="clickable" title="Click to Highlight for easy copying" onclick="selectText(\''+j+"');\">"+d[f]+"</p>"}h.innerHTML=i})}function buildSentenceO(){AddNounPiece(a1,n1,v1),AddNounPiece(a2,n2,-1),AddConnectorPiece(),n3>=0&&AddNounPiece(a3,n3,v2),n4>=0&&AddNounPiece(a4,n4,-1)}function buildSentence1(){AddNounPiece(a1,n1,v1),AddNounPiece(a2,n2,-1),AddLocationPiece(),AddConnectorPiece(),n3>=0&&AddNounPiece(a3,n3,v2),n4>=0&&AddNounPiece(a4,n4,-1)}function buildSentence2(){generatedidea+="you ",generatedidea+=verbs2nd[v1]+" ",AddNounPiece(a2,n2,-1),AddConnectorPiece(),n3>=0&&(generatedidea+="you ",generatedidea+=verbs2nd[v2]+" "),n4>=0&&AddNounPiece(a4,n4,-1)}function buildSentence3(){generatedidea+="you ",generatedidea+=verbs2nd[v1]+" ",AddNounPiece(a2,n2,-1),AddLocationPiece(),AddConnectorPiece(),n3>=0&&(5>o4?(generatedidea+="the same "+nouns[n2]+" ",generatedidea+=verbs3rd[v2]+" you"):(generatedidea+="the same "+pnouns[n2]+" ",generatedidea+=verbs2nd[v2]+" you"))}function buildSentence4(){generatedidea+="you ",generatedidea+=verbs2nd[v1]+" ",AddNounPiece(a2,n2,-1),AddLocationPiece(),AddConnectorPiece(),n3>=0&&(generatedidea+="you ",generatedidea+=verbs2nd[v2]+" "),n4>=0&&AddNounPiece(a4,n4,-1)}function buildSentence5(){switch(generatedidea+="you ",generatedidea+=verbs2nd[v1]+" ",o3=Math.floor(20*Math.random())){case 0:generatedidea+=" the most interesting ";break;case 1:generatedidea+=" the best ";break;case 2:generatedidea+=" the worst ";break;case 3:generatedidea+=" the most powerful ";break;case 4:generatedidea+=" the most ridiculous ";break;case 5:generatedidea+=" the most unbelievable ";break;case 6:generatedidea+=" the most frustrating ";break;case 7:generatedidea+=" the calmest ";break;case 8:generatedidea+=" the most peaceful ";break;case 9:generatedidea+=" the most fearsome ";break;case 10:generatedidea+=" the most ridiculous ";break;case 11:generatedidea+=" the most infuriating ";break;case 12:generatedidea+=" the loudest ";break;case 13:generatedidea+=" the most beautiful ";break;case 14:generatedidea+=" the softest ";break;case 15:generatedidea+=" the shabbiest ";break;case 16:generatedidea+=" the biggest ";break;case 17:generatedidea+=" the longest ";break;case 18:generatedidea+=" the sweetest ";break;case 19:generatedidea+=" the coldest "}o4=Math.floor(10*Math.random()),a1>=0&&(generatedidea+=adjectives[a1]+" "),generatedidea+=5>o4?nouns[n1]:pnouns[n1]}function buildSentence6(){switch(generatedidea+="you ",generatedidea+=verbs2nd[v1]+" ",AddNounPiece(a1,n1,-1),o3=Math.floor(10*Math.random()),5>o3&&AddLocationPiece(),o3=Math.floor(10*Math.random())){case 0:generatedidea+=" because of ";break;case 1:generatedidea+=" to get ";break;case 2:generatedidea+=" to win ";break;case 3:generatedidea+=" for the benefit of ";break;case 4:generatedidea+=" for ";break;case 5:generatedidea+=" to discover ";break;case 6:generatedidea+=" to get ";break;case 7:generatedidea+=" for ";break;case 8:generatedidea+=" to find ";break;case 9:generatedidea+=" to win "}AddNounPiece(a2,n2,-1)}function buildSentence7(){switch(generatedidea+="you ",v1=Math.floor(Math.random()*verbs2ndconcepts.length),generatedidea+=verbs2ndconcepts[vc]+" ",generatedidea+=concepts[c],o3){case 0:generatedidea+=" while ";break;case 1:generatedidea+=" because ";break;case 2:generatedidea+=", and ";break;case 3:generatedidea+=" even though ";break;case 4:generatedidea+=", but ";break;case 5:generatedidea+=", however ";break;case 6:generatedidea+=", and then ";break;case 7:generatedidea+=". At the same time, ";break;case 8:generatedidea+=", which means that ";break;case 9:generatedidea+=" while "}n3>=0&&(o4=Math.floor(10*Math.random()),a3>=0?(5>o4&&(generatedidea+="a"===adjectives[a3].substr(0,1)||"e"===adjectives[a3].substr(0,1)||"i"===adjectives[a3].substr(0,1)||"o"===adjectives[a3].substr(0,1)||"u"===adjectives[a3].substr(0,1)?"an ":"a "),generatedidea+=adjectives[a3]+" "):5>o4&&(generatedidea+="a"===nouns[n3].substr(0,1)||"e"===nouns[n3].substr(0,1)||"i"===nouns[n3].substr(0,1)||"o"===nouns[n3].substr(0,1)||"u"===nouns[n3].substr(0,1)?"an ":"a "),5>o4?(generatedidea+=nouns[n3]+" ",generatedidea+=verbs3rd[v2]+" "):(generatedidea+=pnouns[n3]+" ",generatedidea+=verbs2nd[v2]+" ")),n4>=0&&(o4=Math.floor(10*Math.random()),a4>=0?(5>o4&&(generatedidea+="a"===adjectives[a4].substr(0,1)||"e"===adjectives[a4].substr(0,1)||"i"===adjectives[a4].substr(0,1)||"o"===adjectives[a4].substr(0,1)||"u"===adjectives[a4].substr(0,1)?"an ":"a "),generatedidea+=adjectives[a4]+" "):5>o4&&(generatedidea+="a"===nouns[n4].substr(0,1)||"e"===nouns[n4].substr(0,1)||"i"===nouns[n4].substr(0,1)||"o"===nouns[n4].substr(0,1)||"u"===nouns[n4].substr(0,1)?"an ":"a "),generatedidea+=5>o4?nouns[n4]:pnouns[n4])}function buildSentence8(){switch(generatedidea+="you ",v1=Math.floor(Math.random()*verbs2ndconcepts.length),generatedidea+=verbs2ndconcepts[vc]+" ",generatedidea+=concepts[c],o3){case 0:generatedidea+=" with ";break;case 1:generatedidea+=" because of ";break;case 2:generatedidea+=" because of ";break;case 3:generatedidea+=" with ";break;case 4:generatedidea+=" for ";break;case 5:generatedidea+="led by ";break;case 6:generatedidea+=" leading ";break;case 7:generatedidea+=" because of ";break;case 8:generatedidea+=" with ";break;case 9:generatedidea+=" for "}n3>=0&&(o4=Math.floor(10*Math.random()),a3>=0?(5>o4&&(generatedidea+="a"===adjectives[a3].substr(0,1)||"e"===adjectives[a3].substr(0,1)||"i"===adjectives[a3].substr(0,1)||"o"===adjectives[a3].substr(0,1)||"u"===adjectives[a3].substr(0,1)?"an ":"a "),generatedidea+=adjectives[a3]+" "):5>o4&&(generatedidea+="a"===nouns[n3].substr(0,1)||"e"===nouns[n3].substr(0,1)||"i"===nouns[n3].substr(0,1)||"o"===nouns[n3].substr(0,1)||"u"===nouns[n3].substr(0,1)?"an ":"a "),generatedidea+=5>o4?nouns[n3]:pnouns[n3])}function AddNounPiece(a,b,c){o4=Math.floor(10*Math.random()),a>=0?(5>o4&&(generatedidea+="a"===adjectives[a].substr(0,1)||"e"===adjectives[a].substr(0,1)||"i"===adjectives[a].substr(0,1)||"o"===adjectives[a].substr(0,1)||"u"===adjectives[a].substr(0,1)?"an ":"a "),generatedidea+=adjectives[a]+" "):5>o4&&(generatedidea+="a"===nouns[b].substr(0,1)||"e"===nouns[b].substr(0,1)||"i"===nouns[b].substr(0,1)||"o"===nouns[b].substr(0,1)||"u"===nouns[b].substr(0,1)?"an ":"a "),5>o4?(generatedidea+=nouns[b],c>=0&&(generatedidea+=" "+verbs3rd[c]+" ")):(generatedidea+=pnouns[b],c>=0&&(generatedidea+=" "+verbs2nd[c]+" "))}function AddLocationPiece(){var a=Math.floor(10*Math.random());switch(a){case 0:generatedidea+=" in ";break;case 1:generatedidea+=" near ";break;case 2:generatedidea+=" under ";break;case 3:generatedidea+=" around ";break;case 4:generatedidea+=" to win ";break;case 5:generatedidea+=" beside ";break;case 6:generatedidea+=" to destroy ";break;case 7:generatedidea+=" above ";break;case 8:generatedidea+=" in ";break;case 9:generatedidea+=" in "}d>=0?(generatedidea+="a"===descriptions[d].substr(0,1)||"e"===descriptions[d].substr(0,1)||"i"===descriptions[d].substr(0,1)||"o"===descriptions[d].substr(0,1)||"u"===descriptions[d].substr(0,1)?"an ":"a ",generatedidea+=descriptions[d]+" "):generatedidea+="a"===locations[l].substr(0,1)||"e"===locations[l].substr(0,1)||"i"===locations[l].substr(0,1)||"o"===locations[l].substr(0,1)||"u"===locations[l].substr(0,1)?"an ":"a ",generatedidea+=locations[l]}function AddConnectorPiece(){switch(o3){case 0:generatedidea+=" while ";break;case 1:generatedidea+=" because ";break;case 2:generatedidea+=", and ";break;case 3:generatedidea+=" even though ";break;case 4:generatedidea+=", but ";break;case 5:generatedidea+=", however ";break;case 6:generatedidea+=", and then ";break;case 7:generatedidea+=". At the same time, ";break;case 8:generatedidea+=", which means that ";break;case 9:generatedidea+=" while "}}var gt=0,n1=n2=n3=n4=c=l=0,v1=v2=vc=0,a1=a2=a3=a4=d=0,o1=o2=o3=o4=sentencestructure=0,types=nouns=pnouns=concepts=verbs2nd=verbs2ndconcepts=verbs3rd=adjectives=locations=descriptions=additions=[],generatedidea="",typesCall=$.get("values/gametypes.txt",function(a){types=a.split("\n")}),nounsCall=$.get("values/nouns.txt",function(a){nouns=a.split("\n")}),pluralnounsCall=$.get("values/pluralnouns.txt",function(a){pnouns=a.split("\n")}),conceptsCall=$.get("values/concepts.txt",function(a){concepts=a.split("\n")}),adjsCall=$.get("values/adjectives.txt",function(a){adjectives=a.split("\n")}),locsCall=$.get("values/locations.txt",function(a){locations=a.split("\n")}),descsCall=$.get("values/descriptions.txt",function(a){descriptions=a.split("\n")}),verbs2ndCall=$.get("values/verbs2nd.txt",function(a){verbs2nd=a.split("\n")}),verbs2ndconceptsCall=$.get("values/verbs2ndconcepts.txt",function(a){verbs2ndconcepts=a.split("\n")}),verbs3rdCall=$.get("values/verbs3rd.txt",function(a){verbs3rd=a.split("\n")}),additionsCall=$.get("values/additions.txt",function(a){additions=a.split("\n")}),generatedSeed,ideaPositionOnPage,seedBox,lockGenre,genreLockedTo,removeGenre;